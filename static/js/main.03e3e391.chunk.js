(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{18:function(e,a,t){e.exports=t(35)},27:function(e,a,t){},35:function(e,a,t){"use strict";t.r(a);var r=t(0),c=t.n(r),o=t(14),n=(t(27),t(3)),l=t(17);const s=Object(l.a)("https://qhfungoeldemkcnpqaiu.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InFoZnVuZ29lbGRlbWtjbnBxYWl1Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDg0OTIxNDEsImV4cCI6MjA2NDA2ODE0MX0.Cyy4kZm1rGvgez19hZWY1qQ7JwxcF__doLMqYl6Qa9E");var d=t(7),i=t.n(d);var m=e=>{let{onScan:a}=e;const[t,o]=Object(r.useState)(!1),[n,l]=Object(r.useState)(""),s=Object(r.useRef)(null),d=e=>{const t=e.codeResult.code;l("C\xf3digo detectado: ".concat(t)),a(t),m()},m=()=>{i.a.offDetected(d),i.a.stop(),o(!1),l("")};return Object(r.useEffect)(()=>()=>{t&&m()},[t]),c.a.createElement("div",{className:"relative"},c.a.createElement("button",{onClick:t?m:()=>{o(!0),l("Iniciando esc\xe1ner..."),setTimeout(()=>{i.a.init({inputStream:{type:"LiveStream",target:s.current||document.querySelector("#video"),constraints:{width:640,height:480,facingMode:"environment"}},decoder:{readers:["ean_reader","code_128_reader","upc_reader"]}},e=>{if(e)return console.error(e),void l("Error al iniciar el esc\xe1ner");i.a.start(),l("Escaneando...")}),i.a.onDetected(d)},500)},className:"py-2 px-4 rounded-lg transition-colors ".concat(t?"bg-red-500 hover:bg-red-600 text-white":"bg-blue-500 hover:bg-blue-600 text-white")},t?"Cancelar Escaneo":"Escanear C\xf3digo"),c.a.createElement("div",{className:"text-sm text-gray-600 mt-1"},n),t&&c.a.createElement("div",{className:"fixed inset-0 bg-black z-50 flex flex-col items-center justify-center p-4"},c.a.createElement("div",{className:"w-full max-w-md"},c.a.createElement("div",{className:"flex justify-between items-center mb-2"},c.a.createElement("h2",{className:"text-lg font-bold text-white"},"Esc\xe1ner de C\xf3digos"),c.a.createElement("button",{onClick:m,className:"text-white text-xl p-2"},"\u2715")),c.a.createElement("div",{ref:s,className:"relative w-full h-64 bg-black rounded-lg overflow-hidden",id:"video"}),c.a.createElement("div",{className:"mt-4 text-center text-white"},c.a.createElement("p",null,"Enfoca el c\xf3digo de barras dentro del cuadro"),c.a.createElement("p",{className:"text-yellow-300 font-medium mt-2"},n)))))};const u=e=>{const[a,t]=Object(r.useState)([]),[c,o]=Object(r.useState)(!0);return Object(r.useEffect)(()=>{(async()=>{const{data:a,error:r}=await s.from(e).select("*");r?console.error(r):t(a),o(!1)})()},[e]),{data:a,loading:c}};var b=e=>{let{onProductAdded:a,Inventario:t=null}=e;const[o,l]=Object(r.useState)(t||{name:"",barcode:"",quantity:1,category:"",location:"",expiryDate:""}),d=e=>{const{name:a,value:t}=e.target;l(e=>Object(n.a)(Object(n.a)({},e),{},{[a]:t}))},{data:i}=u("categorias"),{data:m}=u("ubicaciones");return c.a.createElement("form",{onSubmit:async e=>{e.preventDefault();const t={nombre:o.name,codigo_barras:o.barcode,fecha_caducidad:o.expiryDate,categoria_id:o.category,ubicacion_id:o.location,cantidad:o.quantity};let r;o.id?({error:r}=await s.from("productos").update(t).eq("id",o.id)):({error:r}=await s.from("productos").insert([t])),r?(console.error("\u274c Error al guardar:",r.message),alert("\u274c Error al guardar el producto")):(a&&a(),l({name:"",barcode:"",quantity:1,category:"",location:"",expiryDate:""}))},className:"space-y-4"},c.a.createElement("div",null,c.a.createElement("label",{className:"block text-sm font-medium text-gray-700"},"Nombre"),c.a.createElement("input",{type:"text",name:"name",value:o.name,onChange:d,required:!0,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500"})),c.a.createElement("div",null,c.a.createElement("label",{className:"block text-sm font-medium text-gray-700"},"C\xf3digo de Barras"),c.a.createElement("input",{type:"text",name:"barcode",value:o.barcode,onChange:d,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500"})),c.a.createElement("div",null,c.a.createElement("label",{className:"block text-sm font-medium text-gray-700"},"Cantidad"),c.a.createElement("input",{type:"number",name:"quantity",min:"1",value:o.quantity,onChange:d,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500"})),c.a.createElement("div",null,c.a.createElement("label",{className:"block text-sm font-medium text-gray-700"},"Categor\xeda"),c.a.createElement("select",{name:"category",value:o.category,onChange:d,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500"},c.a.createElement("option",{value:""},"Seleccione una categor\xeda"),i.map(e=>c.a.createElement("option",{key:e.id,value:e.id},e.nombre)))),c.a.createElement("div",null,c.a.createElement("label",{className:"block text-sm font-medium text-gray-700"},"Ubicaci\xf3n"),c.a.createElement("select",{name:"location",value:o.location,onChange:d,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500"},c.a.createElement("option",{value:""},"Seleccione una ubicaci\xf3n"),m.map(e=>c.a.createElement("option",{key:e.id,value:e.id},e.nombre)))),c.a.createElement("div",null,c.a.createElement("label",{className:"block text-sm font-medium text-gray-700"},"Fecha de Caducidad"),c.a.createElement("input",{type:"date",name:"expiryDate",value:o.expiryDate,onChange:d,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500"})),c.a.createElement("button",{type:"submit",className:"w-full bg-green-600 text-white py-2 px-4 rounded-md hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500"},t?"Actualizar Producto":"Agregar Producto"))};var g=e=>{let{onProductAdded:a}=e;const[t,o]=Object(r.useState)({name:"",barcode:"",quantity:1}),l=e=>{const{name:a,value:t}=e.target;o(e=>Object(n.a)(Object(n.a)({},e),{},{[a]:t}))};return c.a.createElement("form",{onSubmit:async e=>{e.preventDefault();const r={nombre:t.name,codigo_barras:t.barcode,cantidad:t.quantity};let c;t&&({error:c}=await s.from("lista_compra").insert([r])),c?(console.error("\u274c Error al guardar:",c.message),alert("\u274c Error al guardar el producto")):(a&&a(),o({name:"",barcode:"",quantity:1}))},className:"space-y-4"},c.a.createElement("div",null,c.a.createElement("label",{className:"block text-sm font-medium text-gray-700"},"Nombre"),c.a.createElement("input",{type:"text",name:"name",value:t.name,onChange:l,required:!0,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500"})),c.a.createElement("div",null,c.a.createElement("label",{className:"block text-sm font-medium text-gray-700"},"C\xf3digo de Barras"),c.a.createElement("input",{type:"text",name:"barcode",value:t.barcode,onChange:l,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500"})),c.a.createElement("div",null,c.a.createElement("label",{className:"block text-sm font-medium text-gray-700"},"Cantidad"),c.a.createElement("input",{type:"number",name:"quantity",min:"1",value:t.quantity,onChange:l,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500"})),c.a.createElement("button",{type:"submit",className:"w-full bg-green-600 text-white py-2 px-4 rounded-md hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500"},"Agregar Producto"))};var p=e=>{var a,t;let{product:r,onEdit:o,onDelete:n,onAddToShoppingList:l}=e;const s=(()=>{if(!r.expiryDate)return null;const e=new Date(r.expiryDate)-new Date;return Math.ceil(e/864e5)})();let d="",i="";return null!==s&&(s<0?(d="bg-red-100 text-red-800",i="Caducado"):s<=3?(d="bg-yellow-100 text-yellow-800",i="Caduca en ".concat(s," d\xedas")):s<=7&&(d="bg-blue-100 text-blue-800",i="Caduca en ".concat(s," d\xedas"))),c.a.createElement("div",{className:"bg-white shadow rounded-lg p-4 mb-4"},c.a.createElement("div",{className:"flex justify-between items-start"},c.a.createElement("div",null,c.a.createElement("h3",{className:"font-medium text-lg"},r.nombre),c.a.createElement("p",{className:"text-gray-600"},"Cantidad: ",r.cantidad),c.a.createElement("p",{className:"text-gray-600"},"Categor\xeda: ",null===(a=r.categorias)||void 0===a?void 0:a.nombre),c.a.createElement("p",{className:"text-gray-600"},"Ubicaci\xf3n: ",null===(t=r.ubicaciones)||void 0===t?void 0:t.nombre),r.fecha_caducidad&&c.a.createElement("p",{className:"text-gray-600"},"Caduca: ",new Date(r.fecha_caducidad).toLocaleDateString())),i&&c.a.createElement("span",{className:"px-2 py-1 text-xs font-semibold rounded-full ".concat(d)},i)),c.a.createElement("div",{className:"mt-4 flex space-x-2"},c.a.createElement("button",{onClick:()=>o(r),className:"text-sm bg-blue-500 text-white py-1 px-3 rounded hover:bg-blue-600"},"Editar"),c.a.createElement("button",{onClick:()=>n(r.id),className:"text-sm bg-red-500 text-white py-1 px-3 rounded hover:bg-red-600"},"Eliminar"),null!==s&&s<=0&&c.a.createElement("button",{onClick:()=>l(r.id),className:"text-sm bg-green-500 text-white py-1 px-3 rounded hover:bg-green-600"},"A\xf1adir a compras")))};var f=e=>{let{product:a,onTogglePurchased:t}=e;const{lista:o,loading:n}=(()=>{const[e,a]=Object(r.useState)([]),[t,c]=Object(r.useState)(!0);return Object(r.useEffect)(()=>{(async()=>{c(!0);const{data:e,error:t}=await s.from("lista_compra").select("*").order("created_at",{ascending:!1});t?console.error("Error al obtener lista de compra:",t.message):a(e),c(!1)})()},[]),{lista:e,loading:t}})();return n?c.a.createElement("p",null,"Cargando lista de la compra..."):0===o.length?c.a.createElement("p",null,"No hay productos en tu cesta."):c.a.createElement("div",{className:"bg-white shadow rounded-lg p-4 mb-4 border-l-4 border-green-500"},c.a.createElement("div",{className:"flex justify-between items-start"},c.a.createElement("div",null,c.a.createElement("h3",{className:"font-medium text-lg"},a.nombre),c.a.createElement("p",{className:"text-gray-600"},"Cantidad: ",a.cantidad))),c.a.createElement("div",{className:"mt-4 flex space-x-2"},c.a.createElement("button",{onClick:()=>t(a),className:"text-sm bg-green-500 text-white py-1 px-3 rounded hover:bg-green-600"},"Comprado")))};var x=e=>{let{product:a,onDelete:t,onAddToShoppingList:o}=e;const{caducados:n,loading:l}=(()=>{const[e,a]=Object(r.useState)([]),[t,c]=Object(r.useState)(!0),o=async()=>{if(e.length>0)return;c(!0),(new Date).toISOString().split("T")[0];const{data:t,error:r}=await s.from("caducados").select("*");r?(console.error("Error al cargar productos caducados:",r),a([])):a(t),c(!1)};return Object(r.useEffect)(()=>{o()},[]),{caducados:e,loading:t,fetchCaducados:o,setCaducados:a}})();return l?c.a.createElement("p",null,"Cargando productos caducados..."):0===n.length?c.a.createElement("p",null,"No hay productos caducados."):c.a.createElement("div",{className:"bg-white shadow rounded-lg p-4 mb-4 border-l-4 border-red-500"},c.a.createElement("div",{className:"flex justify-between items-start"},c.a.createElement("div",null,c.a.createElement("h3",{className:"font-medium text-lg"},a.nombre),c.a.createElement("p",{className:"text-gray-600"},"Cantidad: ",a.cantidad),c.a.createElement("p",{className:"text-gray-600"},"Categor\xeda: ",a.categorias.nombre),c.a.createElement("p",{className:"text-gray-600"},"Ubicaci\xf3n: ",a.ubicaciones.nombre),a.fecha_caducidad&&c.a.createElement("p",{className:"text-gray-600"},"Caduc\xf3 el:"," ",new Date(a.fecha_caducidad).toLocaleDateString())),c.a.createElement("span",{className:"px-2 py-1 text-xs font-semibold rounded-full bg-red-100 text-red-800"},"Caducado")),c.a.createElement("div",{className:"mt-4 flex space-x-2"},c.a.createElement("button",{onClick:()=>o(a),className:"text-sm bg-green-500 text-white py-1 px-3 rounded hover:bg-green-600"},"A\xf1adir a compras"),c.a.createElement("button",{onClick:()=>t(a),className:"text-sm bg-red-500 text-white py-1 px-3 rounded hover:bg-red-600"},"Eliminar")))};const y=e=>{let{isOpen:a,onClose:t}=e;const[o,n]=Object(r.useState)(""),[l,d]=Object(r.useState)(""),[i,m]=Object(r.useState)([]),[u,b]=Object(r.useState)([]),g=async()=>{const{data:e}=await s.from("categorias").select("*"),{data:a}=await s.from("ubicaciones").select("*");m(e||[]),b(a||[])};Object(r.useEffect)(()=>{g(),a&&g()},[a]);return c.a.createElement("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50"},c.a.createElement("div",{className:"bg-white rounded-lg shadow-lg w-full max-w-md max-h-[90vh] flex flex-col"},c.a.createElement("div",{className:"flex justify-between items-center p-4 border-b"},c.a.createElement("h2",{className:"text-lg font-semibold text-gray-800"},"Ajustes"),c.a.createElement("button",{onClick:t,className:"text-gray-500 hover:text-red-600 text-xl font-bold"},"\xd7")),c.a.createElement("div",{className:"overflow-y-auto p-4 space-y-4 flex-1"},c.a.createElement("div",{className:"flex items-center justify-between"},c.a.createElement("div",{className:"overflow-y-auto p-4 space-y-4 flex-1"},c.a.createElement("div",{className:"mb-4"},c.a.createElement("label",{className:"block mb-1 text-sm font-medium text-gray-700"},"Nueva Categor\xeda"),c.a.createElement("input",{type:"text",value:o,onChange:e=>n(e.target.value),className:"w-full border border-gray-300 rounded text-gray-700 px-3 py-2"}),c.a.createElement("button",{onClick:async()=>{""!==o.trim()&&(await s.from("categorias").insert([{nombre:o.trim()}]),n(""),g())},className:"mt-2 bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700"},"A\xf1adir Categor\xeda")),c.a.createElement("h3",{className:"text-md font-semibold text-gray-700 mt-4 mb-1"},"Categor\xedas existentes"),c.a.createElement("ul",{className:"space-y-1 mb-4"},i.map(e=>c.a.createElement("li",{key:e.id,className:"flex justify-between text-gray-700 items-center border-b py-1"},c.a.createElement("span",{className:"px-2"},e.nombre),c.a.createElement("button",{onClick:()=>(async e=>{await s.from("categorias").delete().eq("id",e),g()})(e.id),className:"text-red-500 hover:text-red-700 text-sm"},"Eliminar"))))),c.a.createElement("div",{className:"overflow-y-auto p-4 space-y-4 flex-1"},c.a.createElement("div",{className:"mb-4"},c.a.createElement("label",{className:"block mb-1 text-sm font-medium text-gray-700"},"Nueva Ubicaci\xf3n"),c.a.createElement("input",{type:"text",value:l,onChange:e=>d(e.target.value),className:"w-full border border-gray-300 text-gray-700 rounded px-3 py-2"}),c.a.createElement("button",{onClick:async()=>{""!==l.trim()&&(await s.from("ubicaciones").insert([{nombre:l.trim()}]),d(""),g())},className:"mt-2 bg-green-600 text-white px-4 py-2 rounded hover:bg-green-700"},"A\xf1adir Ubicaci\xf3n")),c.a.createElement("h3",{className:"text-md font-semibold text-gray-700 mt-4 mb-1"},"Ubicaciones existentes"),c.a.createElement("ul",{className:"space-y-1"},u.map(e=>c.a.createElement("li",{key:e.id,className:"flex justify-between text-gray-700 items-center border-b py-1"},c.a.createElement("span",{className:"px-2"},e.nombre),c.a.createElement("button",{onClick:()=>(async e=>{await s.from("ubicaciones").delete().eq("id",e),g()})(e.id),className:"text-red-500 hover:text-red-700 text-sm"},"Eliminar"))))))),c.a.createElement("div",{className:"p-2 border-t text-center text-sm text-gray-400"},"\xa9 SmartFridge")))};var E=()=>{const[e,a]=Object(r.useState)([]),[t,o]=Object(r.useState)([]),[l,d]=Object(r.useState)([]),[i,u]=Object(r.useState)("inventory"),[E,h]=Object(r.useState)(!1),[v,N]=Object(r.useState)(null),[w,C]=Object(r.useState)(!1),j=async()=>{const{data:e,error:t}=await s.from("productos").select("id, nombre, codigo_barras, cantidad, fecha_caducidad, categorias (nombre), ubicaciones (nombre)");t||a(e)},_=async()=>{const{data:e,error:a}=await s.from("caducados").select("id, nombre, cantidad, fecha_caducidad, categorias (nombre), ubicaciones (nombre)");a||d(e)},k=async()=>{const{data:e,error:a}=await s.from("lista_compra").select("*");a||o(e)};Object(r.useEffect)(()=>{j(),_(),k()},[]),Object(r.useEffect)(()=>{(async()=>{const e=new Date,{data:a,error:t}=await s.from("productos").select("*");if(t)return void console.error("Error al obtener productos:",t.message);const r=a.filter(a=>new Date(a.fecha_caducidad)<e);a.filter(a=>new Date(a.fecha_caducidad)>=e);for(const o of r)await s.from("productos").delete().eq("id",o.id);const c=Date.now().toString();for(const o of r){const{data:e}=await s.from("categorias").select("nombre").eq("id",o.categoria_id).single(),{data:a}=(null===e||void 0===e||e.nombre,await s.from("ubicaciones").select("nombre").eq("id",o.ubicacion_id).single()),{data:t,error:r}=(null===a||void 0===a||a.nombre,await s.from("lista_compra").select("id").eq("codigo_barras",o.codigo_barras).eq("es_caducado",!0).maybeSingle());t||await s.from("lista_compra").insert([Object(n.a)(Object(n.a)({id:c},o),{},{es_caducado:!0})]),0===(await s.from("caducados").select("id").eq("nombre",o.nombre).eq("codigo_barras",o.codigo_barras).eq("fecha_caducidad",o.fecha_caducidad)).data.length&&await s.from("caducados").insert({nombre:o.nombre,cantidad:o.cantidad,codigo_barras:o.codigo_barras,fecha_caducidad:o.fecha_caducidad,categoria_id:o.categoria_id,ubicacion_id:o.ubicacion_id})}j(),_(),k()})()},[]);const O=e=>{console.log("\ud83d\udcdd Editando producto:",e),N(Object(n.a)(Object(n.a)({},e),{},{name:e.nombre,barcode:e.codigo_barras,quantity:e.cantidad,expiryDate:e.fecha_caducidad,category:e.categoria,location:e.ubicacion})),h(!0)},S=async e=>{const{error:t}=await s.from("productos").delete().eq("id",e);t?(console.error("\u274c Error al eliminar producto:",t.message),alert("\u274c No se pudo eliminar el producto")):a(a=>a.filter(a=>a.id!==e)),j()},q=async e=>{const{error:a}=await s.from("caducados").delete().eq("id",e.id);a||d(a=>a.filter(a=>a.id!==e.id)),_()},D=async e=>{0===(await s.from("caducados").select("id").eq("nombre",e.nombre).eq("codigo_barras",e.caducados.codigo_barras).eq("fecha_caducidad",e.fecha_caducidad)).data.length&&await s.from("lista_compra").insert({nombre:e.nombre,cantidad:e.cantidad,codigo_barras:e.codigo_barras,fecha_caducidad:e.fecha_caducidad,categoria_id:e.categoria_id,ubicacion_id:e.ubicacion_id,creado:e.creado_en,es_caducado:!0})},A=async e=>{const{error:a}=await s.from("lista_compra").delete().eq("id",e.id);a||o(t.filter(a=>a.id!==e.id)),k()},[I,P]=Object(r.useState)(!1);return c.a.createElement("div",{className:"min-h-screen bg-gray-800 p-4"},c.a.createElement("div",{className:"max-w-6xl mx-auto bg-white rounded-lg shadow overflow-hidden"},c.a.createElement("div",{className:"p-4 bg-blue-600 text-white"},c.a.createElement("div",{className:"flex items-center justify-between"},c.a.createElement("h1",{className:"text-2xl font-bold"},"SmartFridge"),c.a.createElement("button",{onClick:()=>P(!0),className:"bg-gray-700 text-white px-3 py-2 rounded hover:bg-gray-700"},"\u2699\ufe0f Ajustes")),c.a.createElement("p",{className:"text-blue-100"},"Control total de tu cocina"),I&&c.a.createElement(y,{onClose:()=>P(!1)})),c.a.createElement("div",{className:"flex border-b"},c.a.createElement("button",{className:"flex-1 py-2 px-4 font-medium ".concat("inventory"===i?"text-blue-600 border-b-2 border-blue-600":"text-gray-600"),onClick:()=>u("inventory")},"Inventario"),c.a.createElement("button",{className:"flex-1 py-2 px-4 font-medium ".concat("shopping"===i?"text-blue-600 border-b-2 border-blue-600":"text-gray-600"),onClick:()=>u("shopping")},"Lista de la compra"),c.a.createElement("button",{className:"flex-1 py-2 px-4 font-medium ".concat("expired"===i?"text-blue-600 border-b-2 border-blue-600":"text-gray-600"),onClick:()=>u("expired")},"Caducados (",l.length,")")),c.a.createElement("div",{className:"p-4"},"inventory"===i?c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"flex space-x-2 mb-4"},c.a.createElement(m,{onScan:e=>{h(!0),N({name:"",barcode:e,quantity:1,category:"otros",location:"despensa-estante1",expiryDate:""})}}),c.a.createElement("button",{onClick:()=>{h(!0),N(null),j()},className:"bg-green-500 text-white py-2 px-4 rounded-lg hover:bg-green-600 transition-colors"},"A\xf1adir Manualmente")),E&&c.a.createElement("div",{className:"mb-6 p-4 border rounded-lg bg-gray-50"},c.a.createElement(b,{onProductAdded:t=>{v&&v.id?a(e.map(e=>e.id===v.id?Object(n.a)(Object(n.a)({},t),{},{id:v.id}):e)):a([...e,Object(n.a)(Object(n.a)({},t),{},{id:Date.now().toString()})]),j(),h(!1),N(null)},Inventario:v}),c.a.createElement("button",{onClick:()=>{h(!1),N(null),j()},className:"mt-2 text-sm text-gray-600 hover:text-gray-800"},"Cancelar")),c.a.createElement("div",{className:"space-y-4"},0===e.length?c.a.createElement("p",{className:"text-gray-500"},"No hay productos en tu inventario. \xa1A\xf1ade algunos!"):e.map(e=>c.a.createElement(p,{key:e.id,product:e,onEdit:O,onDelete:S,onAddToShoppingList:D})))):"shopping"===i?c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"flex space-x-2 mb-4"},c.a.createElement("button",{onClick:()=>{C(!0)},className:"bg-green-500 text-white py-2 px-4 rounded-lg hover:bg-green-600 transition-colors"},"A\xf1adir Producto"),c.a.createElement(m,{onScan:e=>{o([...t,{id:Date.now().toString(),name:"Producto ".concat(e),barcode:e,quantity:1,purchased:!1}])}})),w&&c.a.createElement("div",{className:"mb-6 p-4 border rounded-lg bg-gray-50"},c.a.createElement(g,{onProductAdded:t=>{a([...e,Object(n.a)(Object(n.a)({},t),{},{id:Date.now().toString()})]),k(),C(!1)}}),c.a.createElement("button",{onClick:()=>{C(!1),k()},className:"mt-2 text-sm text-gray-600 hover:text-gray-800"},"Cancelar")),c.a.createElement("div",{className:"space-y-4"},0===t.length?c.a.createElement("p",{className:"text-gray-500"},"Tu lista de la compra est\xe1 vac\xeda. \xa1A\xf1ade algunos productos!"):t.map(e=>c.a.createElement(f,{key:e.id,product:e,onTogglePurchased:A})))):c.a.createElement(c.a.Fragment,null,c.a.createElement("h2",{className:"text-xl font-semibold mb-4"},"Productos Caducados"),c.a.createElement("div",{className:"space-y-4"},0===l.length?c.a.createElement("p",{className:"text-gray-500"},"\xa1Genial! No tienes productos caducados."):l.map(e=>c.a.createElement(x,{key:e.id,product:e,onDelete:q,onAddToShoppingList:D}))))),c.a.createElement("div",{className:"p-2 border-t text-center text-sm text-gray-400"},"\xa9 SmartFridge")))};Object(o.createRoot)(document.getElementById("root")).render(c.a.createElement(E,null))}},[[18,1,2]]]);
//# sourceMappingURL=main.03e3e391.chunk.js.map